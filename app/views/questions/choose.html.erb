<!DOCTYPE HTML>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
    .btn:hover {
      background-color: #000000; /* 背景色を白に */
      color: #ffffff; /* テキスト色を黒に */
      border-color: #000000; /* ボーダー色を黒に */
    }

  .text-primary:hover {
    text-shadow: 0px 0px 10px rgba(255, 255, 255, 0.8);
  }

  .top-img{
    /* width:100%;
    height:15em;
    background-image:url("assets/qandatraining230504.png");
    background-repeat: no-repeat;  /* 背景画像を繰り返し表示しない */
    /* background-position: center;   背景画像の位置を中央に指定 */
    /* background-size: contain;    */
    width:100%;
    height:15em;
    object-fit: contain;
  }

  .annotation_1{
    font-size:0.7em;
  }
  
  </style>
</head>

        <%# 左カラム %>
        <div class="col-sm-8 bg-light">
          <div class="card borded my-3">
            <%# <div class="card-body">
              <div class="bg-info text-white">
                <p>情報I 一問一答トレーニング</p>
              </div>
            </div> %>
            <div class="my-2">
              <%= image_tag 'iqatlogo2.jpg', class: 'top-img' %>
                <%# <img src = "assets/qandatraining230504.png" alt="logo"> %>
              
            </div>
            <div class="applicationOutline my-3">
              <div class="whatsApp mb-3 d-flex justify-content-center" id="whatsApp" style="text-align: start;">
                <button class="btn  btn-light">▼一問一答トレーニングGYMとは▼</button>
              </div>
              <div id="applicationOutline" style="display: none;" class="card-body">
                <p class="small">このアプリケーションは高校「情報I」の基礎語句を身につけるための一問一答アプリです。教科書に掲載されている基礎用語300語と擬似言語のプログラミング問題の中から解説付きでランダムに出題するWeb問題集です。スキマ時間を活用して基礎問題演習に取り組めて、無料・PC/スマホ/タブレット対応です。試験対策としてご活用ください。</p>
                <p class="small">高等学校・学習塾など教育機関にてご利用いただく場合には、ご利用料金を頂戴することはございませんが、教育機関名・ご利用の旨をお問合せよりご一報いただけますと幸いです。</p>
              </div>
            </div>
            <div class="sampleQuestion card borderd mx-2">
              <div class="card-body">
                <p class="card-text">◆今日の語句◆</p>
                <p class="card-text h5"><b><%= @answer.answer%></b><p> <%# 2個目のanswerはカラム名%>
                <p class="card-text small"><%= @question.text%></p>
              </div>
            </div>
            <%# 問題作成エリア %>
            <div class="my-2 mx-auto mt-5">
              <p class="small text-center annotation_1">問題印刷機能を使用する場合は、<br>ウインドウをPCの最大サイズまで大きくしてください</p>
              <ul class="nav nav-tabs border-bottom-0 mb-3 justify-content-center ">
                  <li class="nav-item mr-1 d-inline-block">
                    <a href="#tab1" type="button" class="btn btn-outline-secondary btn-lg border rounded font-weight-normal mx-2" data-toggle="modal" id ="createQuestionButton">問題選択</a>
                  </li>
                  <li class="nav-item mr-1 d-inline-block  d-xl-inline d-none">
                    <a href="#tab2" type="button" class="btn btn-outline-secondary btn-lg border rounded font-weight-normal mx-2" data-toggle="tab" id ="printQuestionButton">問題印刷</a>
                  </li>
              </ul>
            </div>

            <%# 問題設定エリア %>
            <div class="contents row mb-5" id="chooseArea" style="display: block;">
              <%= form_with url: ask_questions_path, method: :post, local: true, class: 'form' do |form| %>
                <div class="field col-10 col-lg-6 mx-auto">
                  <div class="">
                    <%= form.label :▼範囲を指定する, class: "labels text-primary h4 ", id:"categorySelectButton"%><br />
                    <p class="small mx-3 text-end">全<%=@question_count_array[0]['all_counts:'] %>問</p>
                    <p class="mx-3 annotation_1">初期設定では全範囲が指定されています。</p>
                  </div>
                  <div class="form-check mt-3 pb-3 border-bottom" id="categorySelectArea" style="display: none;">
                    <%= collection_check_boxes(:genre, :genre_ids, @genres, :id, :name, {include_hidden: false,checked: [1,2,3,4]}) do |b| %>
                      <div class="form-check mt-3 pb-3 border-bottom">
                        <%# <%= b.label { b.check_box + b.text } %>
                          <%= b.label class: "form-check-label" do %>
                              <%= b.check_box class: "form-check-input " %>
                              <%= b.text %>
                              <%# question_count_arrayの2番目の要素にgenre_idというキーで格納されている要素を取得する %>
                              <span class="small">全<%= @question_count_array[1]["genre_id:#{b.value}"] %>問</span>
                          <% end %>
                      </div>
                    <% end %>
                  </div>
                  <div>
                    <%= form.label :▼難易度を指定する, class: "text-primary h4 labels", id:"levelSelectButton" %><br />
                    <p class="small mx-3 text-end">全<%=@question_count_array[0]['all_counts:'] %>問</p>
                    <div class="form-check mt-3 pb-3 border-bottom" id="levelSelectArea" style="display: none;">
                      <%= collection_check_boxes(:level, :level_ids, @levels, :id, :name, {include_hidden: false,checked: [1,2,3,4]}) do |b| %>
                        <div class="form-check mt-3 pb-3 border-bottom">
                          <%= b.label class: "form-check-label" do %>
                                <%= b.check_box class: "form-check-input " %>
                                <%= b.text %>
                                <%# question_count_arrayの3番目の要素にlevelというキーで格納されている要素を取得する %>
                                <span class="small">全<%= @question_count_array[2]["level:#{b.value}"] %>問</span>
                          <% end %>
                        </div>
                      <% end %>
                    </div>
                  </div>
                  <%= form.submit value: '出題開始', class: 'btn mx-auto d-block common-btn btn-primary btn-lg mt-3',data:{"turbolinks"=>false} %>
                  <p class="small mt-3 annotation_1">※該当する問題が無い場合は問題が作成されずトップページに戻りますので条件を選び直してください。</p>
                </div>
              <% end %>
            </div>
            <%# ここから問題印刷用 %>
            <div class="contents row mb-5" id="printSelectArea" style="display: none;">
              <%= form_with url: print_questions_path, method: :post, local: true, class: 'form' do |form| %>
                  <div class="field d-none d-lg-block col-6 mx-auto">
                    <%= form.label :▼範囲を指定する, class: "text-primary h4 labels" %><br />
                    <p class="small mx-3 text-end">全<%=@question_count_array[0]['all_counts:'] %>問</p>
                    <p class="small mx-3">問題を作成する範囲を設定してください。</p>
                    <div class="form-check mt-3 pb-3 border-bottom" >
                      <%= collection_check_boxes(:genre, :genre_ids, @genres, :id, :name, {include_hidden: false, checked: [1,2,3,4]}) do |b| %>
                          <div class="form-check mt-3 pb-3 border-bottom">
                            <%# <%= b.label { b.check_box + b.text } %>
                                <%= b.label class: "form-check-label" do %>
                                  <%= b.check_box class: "form-check-input" %>
                                  <%= b.text %>
                                  <%# question_count_arrayの2番目の要素にgenre_idというキーで格納されている要素を取得する %>
                                  <span class="small">全<%= @question_count_array[1]["genre_id:#{b.value}"] %>問</span>
                              <% end %>
                            </div>
                      <% end %>
                    </div>
                    <%= form.label :▼難易度を指定する, class: "text-primary h4 labels" %><br />
                    <p class="small mx- text-end">全<%=@question_count_array[0]['all_counts:'] %>問</p>
                    <div class="form-check mt-3 pb-3 border-bottom" >
                        <%= collection_check_boxes(:level, :level_ids, @levels, :id, :name, {include_hidden: false,checked: [1,2,3,4]}) do |b| %>
                          <div class="form-check mt-3 pb-3 border-bottom">
                            <%= b.label class: "form-check-label" do %>
                                  <%= b.check_box class: "form-check-input " %>
                                  <%= b.text %>
                                  <%# question_count_arrayの3番目の要素にlevelというキーで格納されている要素を取得する %>
                                  <span class="small">全<%= @question_count_array[2]["level:#{b.value}"] %>問</span>
                            <% end %>
                          </div>
                        <% end %>
                      </div>
                    <div>
                      <p class="text-primary h4 labels">▼出題数を選択してください</p>
                      <%# # [1,3,5]は出題数。追って編集 %>
                      <div class="field form-inline d-inline-block d-flex my-4 d-flex">
                        <% [5, 10, 20].each do |count| %>
                          <div class="form-check mr-3 justify-content-between">
                          <%# count == 10 の部分はデフォルトのチェック項目 %>
                            <%= radio_button_tag :question_count, count, count == 10 %>
                            <%= label_tag "question_count_#{count}", "#{count}問" %>
                          </div>
                        <% end %>
                      </div>
                      <p class="text-primary h4 labels">▼出題方法を選択してください</p>
                      <div class="field form-inline d-inline-block d-flex my-4">
                        <div class="form-check justify-content-between">
                          <%= radio_button_tag(:question_order, 1, true) %>
                          <%= label_tag(:question_order_1, 'ランダム') %>
                          <%= radio_button_tag(:question_order, 2) %>
                          <%= label_tag(:question_order_2, '番号順') %>
                        </div>
                      </div>
                      <p class="text-primary h4 labels">▼出題形式を選択してください</p>
                      <div class="field form-inline d-inline-block d-flex  my-4">
                        <div class="form-check mr-3 ">
                          <%= radio_button_tag(:style_id, 1, true) %>
                          <%= label_tag(:style_id, '四択式') %>

                          <%= radio_button_tag(:style_id, 2) %>
                          <%= label_tag(:style_id, '記述式') %>

                          <%= radio_button_tag(:style_id, 3) %>
                          <%= label_tag(:style_id, '四択式＆記述式') %>
                        </div>
                      </div>
                      <%= form.submit value: '問題を印刷する', class: 'btn mx-auto d-block common-btn btn-primary btn-lg',data:{"turbolinks"=>false} %>
                      <p class="small mt-3">※該当する問題が無い場合は問題が作成されずトップページに戻りますので条件を選び直してください。</p>
                    </div>
                  </div>
              <% end %>
            </div>
            <div class="anslink px-3 mb-2 small" style="text-align: end;">
              <span><%= link_to '◆一問一答トレーニングの利用方法◆', "/howtouse", method: :get %></span>
            </div>
          </div>
        </div>

        <%# Informationエリア %>
            <div class="bg-light d-block d-sm-none rightSide">
              <div class="card borded my-3 bg-white"> 
                <div class="card-body">
                  <div class="text-white bg-secondary">
                    <p class="text-center">Infomation</p>
                  </div>
                  <div class="card corded">
                    <div class="card-body">
                      <p>令和6年度大学入学共通テストまで…</p>
                      <p class="text-center">あと　<span class="text-primary h4" id="countdown"></span>　日</p>
                      <p class="small text-center">令和６年度試験実施期日<br>　令和６年１月13日（土）、14日（日）</p>
                    </div>
                  </div>
                  <div class="examInfo mt-5">
                    <p>■令和7年度の大学入学共通テストの情報はこちら▼</p>
                    <p class="text-center">
                      <a href="https://www.dnc.ac.jp/" target="_blank">
                      <%# <img src="assets/abm00000275.png" alt="大学入試センター" style="height ; 10em; width: 80%;"> %>
                      <%= image_tag 'abm00000275.png', class: '' ,style: 'height ; 10em; width: 45%;'%>

                      </a>
                    </p>
                  </div>
                  <div class="blogInfo1 mt-5">
                    <p>■大学入学共通テスト「情報」科対策はこちら▼</p>
                      <div class="text-center">
                        <a href="https://kotozeni.com/programming_sub_info_3111_summary_and_measures/" target="_blank">
                          <%= image_tag 'measures.jpg', class: '' ,style: 'height ; 10em; width:  80%;'%>
                        </a>
                      </div>
                  </div>
                  <div class="blogInfo2 mt-5">
                    <p>■「情報I」オススメ参考書はこちら▼</p>
                      <div class="text-center">
                        <a href="https://kotozeni.com/programming_sub_info_3745-recommend-textbook_2//" target="_blank">
                          <%= image_tag 'recommendTextbook.jpg', class: 'text-center' ,style: 'height ; 10em; width: 80%;'%>
                        </a>
                      </div>
                  </div>
                  <div class="blogInfo3 mt-5">
                    <p>■共通テスト「擬似言語」対応 プログラミング問題集はこちら▼</p>
                      <div class="text-center">
                        <a href="https://note.com/modern_knot259/n/n133d19a934c8" target="_blank">
                          <%= image_tag 'prrogrammingtextbookEyecatch.jpg', class: 'text-center' ,style: 'height ; 10em; width: 80%;'%>
                        </a>
                      </div>
                  </div>
                </div>
              </div>
            </div>



  <%# <script src="../javascript/choose_top.js"></script> %>


      <%# <div class="field">
      <br />
        <%= form.collection_check_boxes(:genre_ids, Genre.all, :id, :name, checked: true) do |b| %>
        <%# <%= b.label { b.check_box + b.text } %>
        <%# <% end %>
      <%# </div> %>

      <%# <% @genres.each.with_index do |genre,i| %>
        <%# <label> %>
          <%# <%= check_box_tag 'Genre[genre_id][]', genre,false,id:"genre_id_#{i}",checked:true %> 
          <%# <%= genre %>
        <%# </label> %>
      <%# <% end %> 


        <%# <%= form.text_field :genre_id, readonly:true, value:"5",id:"genre_select",class: "button" %> 
